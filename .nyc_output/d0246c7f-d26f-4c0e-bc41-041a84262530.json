{"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/app.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":29},"end":{"line":5,"column":67}},"4":{"start":{"line":6,"column":29},"end":{"line":6,"column":67}},"5":{"start":{"line":7,"column":31},"end":{"line":7,"column":71}},"6":{"start":{"line":8,"column":35},"end":{"line":8,"column":79}},"7":{"start":{"line":9,"column":16},"end":{"line":9,"column":46}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":29}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":22}},"10":{"start":{"line":16,"column":8},"end":{"line":16,"column":61}},"11":{"start":{"line":17,"column":8},"end":{"line":17,"column":61}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":65}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":73}},"14":{"start":{"line":20,"column":8},"end":{"line":20,"column":38}},"15":{"start":{"line":24,"column":30},"end":{"line":29,"column":9}},"16":{"start":{"line":25,"column":12},"end":{"line":25,"column":59}},"17":{"start":{"line":26,"column":12},"end":{"line":26,"column":92}},"18":{"start":{"line":27,"column":12},"end":{"line":27,"column":60}},"19":{"start":{"line":28,"column":12},"end":{"line":28,"column":19}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":36}},"21":{"start":{"line":31,"column":8},"end":{"line":31,"column":37}},"22":{"start":{"line":36,"column":8},"end":{"line":36,"column":77}},"23":{"start":{"line":36,"column":36},"end":{"line":36,"column":75}},"24":{"start":{"line":39,"column":0},"end":{"line":39,"column":18}},"25":{"start":{"line":41,"column":0},"end":{"line":41,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":18},"end":{"line":22,"column":5}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":13},"end":{"line":33,"column":5}},"line":23},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":30},"end":{"line":24,"column":31}},"loc":{"start":{"line":24,"column":51},"end":{"line":29,"column":9}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":16},"end":{"line":37,"column":5}},"line":35},"4":{"name":"(anonymous_4)","decl":{"start":{"line":36,"column":30},"end":{"line":36,"column":31}},"loc":{"start":{"line":36,"column":36},"end":{"line":36,"column":75}},"line":36}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":33,"17":33,"18":33,"19":33,"20":1,"21":1,"22":0,"23":0,"24":1,"25":1},"f":{"0":1,"1":1,"2":33,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/app.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/app.ts"],"names":[],"mappings":";;;AAAA,mCAAmC;AACnC,oEAAsD;AACtD,oEAAsD;AACtD,wEAA0D;AAC1D,gFAAkE;AAClE,+CAAwC;AAExC,MAAM,GAAG;IAEP,MAAM;IAEN;QACE,MAAM;QACN,IAAI,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,4BAAW,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,4BAAW,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,8BAAa,CAAC,CAAC;QACxC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,cAAc,EAAE,kCAAiB,CAAC,CAAC;QAChD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,eAAK,CAAC,CAAC;QACpB,MAAM;IACR,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,mCAAmC,CAAC,CAAC;YAChF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,MAAM;IACR,CAAC;IAED,MAAM;IACC,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC;IACvE,CAAC;CACF;AAEQ,kBAAG;AAEZ,8DAA8D;AAC/C,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import * as express from 'express';\nimport routerLogin from './routes/routerLogin.routes';\nimport routerTeams from './routes/routerTeams.routes';\nimport routerMatches from './routes/routerMatches.routes';\nimport routerLeaderboard from './routes/routerLeaderboard.routes';\nimport error from './middlewares/error';\n\nclass App {\n  public app: express.Express;\n  // ...\n\n  constructor() {\n    // ...\n    this.app = express();\n    this.config();\n    this.app.use('/login', routerLogin);\n    this.app.use('/teams', routerTeams);\n    this.app.use('/matches', routerMatches);\n    this.app.use('/leaderboard', routerLeaderboard);\n    this.app.use(error);\n    // ...\n  }\n\n  private config():void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header('Access-Control-Allow-Methods', 'GET,POST,DELETE,OPTIONS,PUT,PATCH');\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n\n    this.app.use(accessControl);\n    this.app.use(express.json());\n    // ...\n  }\n\n  // ...\n  public start(PORT: string | number):void {\n    this.app.listen(PORT, () => console.log(`rodando na porta ${PORT}`));\n  }\n}\n\nexport { App };\n\n// A execução dos testes de cobertura depende dessa exportação\nexport const { app } = new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"67373bf27dc0b73011576f9a83a6cdbee834862b"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerLogin.routes.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerLogin.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":74}},"3":{"start":{"line":5,"column":22},"end":{"line":5,"column":65}},"4":{"start":{"line":6,"column":26},"end":{"line":6,"column":67}},"5":{"start":{"line":7,"column":19},"end":{"line":7,"column":53}},"6":{"start":{"line":8,"column":15},"end":{"line":8,"column":38}},"7":{"start":{"line":9,"column":20},"end":{"line":9,"column":47}},"8":{"start":{"line":10,"column":23},"end":{"line":10,"column":64}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":92}},"10":{"start":{"line":11,"column":58},"end":{"line":11,"column":90}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":111}},"12":{"start":{"line":12,"column":70},"end":{"line":12,"column":109}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":44},"end":{"line":11,"column":45}},"loc":{"start":{"line":11,"column":58},"end":{"line":11,"column":90}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":44},"end":{"line":12,"column":45}},"loc":{"start":{"line":12,"column":70},"end":{"line":12,"column":109}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":3,"13":1},"f":{"0":1,"1":3},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerLogin.routes.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerLogin.routes.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,2EAAoE;AACpE,kEAA2D;AAE3D,oEAA6D;AAC7D,sDAA+C;AAE/C,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,WAAW,GAAG,IAAI,qBAAW,EAAE,CAAC;AACtC,MAAM,cAAc,GAAG,IAAI,wBAAc,CAAC,WAAW,CAAC,CAAC;AAEvD,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,kBAAQ,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAElF,MAAM,CAAC,IAAI,CACT,GAAG,EACH,yBAAe,EACf,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAClE,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\nimport UserController from '../database/controllers/userController';\nimport UserService from '../database/services/userService';\n\nimport validationLogin from '../middlewares/loginMiddleware';\nimport authUser from '../middlewares/authUser';\n\nconst router = Router();\n\nconst userService = new UserService();\nconst userController = new UserController(userService);\n\nrouter.get('/validate', authUser, (req, res) => userController.getUser(req, res));\n\nrouter.post(\n  '/',\n  validationLogin,\n  async (req, res, next) => userController.getLogin(req, res, next),\n);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"eab89542afaefbd2367dd8b2256dbf750b948602"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/userController.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/userController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":39}},"2":{"start":{"line":8,"column":38},"end":{"line":8,"column":46}},"3":{"start":{"line":10,"column":21},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":42}},"5":{"start":{"line":15,"column":8},"end":{"line":27,"column":9}},"6":{"start":{"line":16,"column":40},"end":{"line":16,"column":48}},"7":{"start":{"line":17,"column":26},"end":{"line":17,"column":45}},"8":{"start":{"line":18,"column":25},"end":{"line":18,"column":63}},"9":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"10":{"start":{"line":20,"column":16},"end":{"line":20,"column":88}},"11":{"start":{"line":23,"column":12},"end":{"line":23,"column":46}},"12":{"start":{"line":26,"column":12},"end":{"line":26,"column":24}},"13":{"start":{"line":30,"column":0},"end":{"line":30,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":29},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":28},"end":{"line":13,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":35},"end":{"line":28,"column":5}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},{"start":{"line":19,"column":12},"end":{"line":21,"column":13}}],"line":19}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":3,"7":3,"8":3,"9":2,"10":1,"11":1,"12":1,"13":1},"f":{"0":1,"1":1,"2":3},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/userController.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/userController.ts"],"names":[],"mappings":";;AAIA,MAAqB,cAAc;IACjC,YAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAEzC,KAAK,CAAC,OAAO,CAAC,GAAY,EAAE,GAAa;QAC9C,MAAM,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACvC,+BAA+B;QAC/B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAClD,4CAA4C;QAC5C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACnE,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YACrC,MAAM,KAAK,GAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC;YAE1C,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAEpD,IAAI,CAAC,IAAI,EAAE;gBACT,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;aACzE;YACD,uCAAuC;YAEvC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;CACF;AA5BD,iCA4BC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport ILogin from '../../interfaces/ILogin';\nimport UserService from '../services/userService';\n\nexport default class UserController {\n  constructor(private userService: UserService) {}\n\n  public async getUser(req: Request, res: Response): Promise<Response | void> {\n    const { decoded: { data } } = req.body;\n    // console.log('data: ', data);\n    const user = await this.userService.getUser(data);\n    // console.log('userGet controller:', user);\n    return res.status(200).json(user);\n  }\n\n  public async getLogin(req: Request, res: Response, next: NextFunction): Promise<Response | void> {\n    try {\n      const { email, password } = req.body;\n      const login: ILogin = { email, password };\n\n      const user = await this.userService.getLogin(login);\n\n      if (!user) {\n        return res.status(401).json({ message: 'email or password not exist' });\n      }\n      // console.log('user maldito: ', user);\n\n      return res.status(200).json(user);\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"63ecd4b47c085e7ea0fecd8b10d6c3d0383771ee"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/userService.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/userService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":17},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":12},"end":{"line":4,"column":35}},"3":{"start":{"line":5,"column":11},"end":{"line":5,"column":24}},"4":{"start":{"line":6,"column":16},"end":{"line":6,"column":42}},"5":{"start":{"line":7,"column":18},"end":{"line":7,"column":64}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":35}},"7":{"start":{"line":13,"column":26},"end":{"line":13,"column":82}},"8":{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},"9":{"start":{"line":16,"column":29},"end":{"line":16,"column":38}},"10":{"start":{"line":17,"column":12},"end":{"line":17,"column":24}},"11":{"start":{"line":21,"column":28},"end":{"line":21,"column":91}},"12":{"start":{"line":23,"column":8},"end":{"line":24,"column":19}},"13":{"start":{"line":24,"column":12},"end":{"line":24,"column":19}},"14":{"start":{"line":25,"column":34},"end":{"line":25,"column":94}},"15":{"start":{"line":27,"column":8},"end":{"line":28,"column":19}},"16":{"start":{"line":28,"column":12},"end":{"line":28,"column":19}},"17":{"start":{"line":29,"column":8},"end":{"line":39,"column":9}},"18":{"start":{"line":30,"column":50},"end":{"line":30,"column":61}},"19":{"start":{"line":31,"column":27},"end":{"line":31,"column":56}},"20":{"start":{"line":32,"column":28},"end":{"line":32,"column":49}},"21":{"start":{"line":33,"column":30},"end":{"line":33,"column":70}},"22":{"start":{"line":34,"column":26},"end":{"line":34,"column":65}},"23":{"start":{"line":35,"column":12},"end":{"line":38,"column":14}},"24":{"start":{"line":42,"column":0},"end":{"line":42,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":45},"end":{"line":11,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":24},"end":{"line":19,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":26},"end":{"line":40,"column":5}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":43}},"type":"default-arg","locations":[{"start":{"line":9,"column":28},"end":{"line":9,"column":43}}],"line":9},"1":{"loc":{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},{"start":{"line":15,"column":8},"end":{"line":18,"column":9}}],"line":15},"2":{"loc":{"start":{"line":23,"column":8},"end":{"line":24,"column":19}},"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":24,"column":19}},{"start":{"line":23,"column":8},"end":{"line":24,"column":19}}],"line":23},"3":{"loc":{"start":{"line":27,"column":8},"end":{"line":28,"column":19}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":28,"column":19}},{"start":{"line":27,"column":8},"end":{"line":28,"column":19}}],"line":27},"4":{"loc":{"start":{"line":29,"column":8},"end":{"line":39,"column":9}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":39,"column":9}},{"start":{"line":29,"column":8},"end":{"line":39,"column":9}}],"line":29}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":3,"12":2,"13":0,"14":2,"15":2,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1},"f":{"0":1,"1":1,"2":3},"b":{"0":[1],"1":[1,0],"2":[0,2],"3":[1,1],"4":[1,0]},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/userService.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/userService.ts"],"names":[],"mappings":";;AAAA,qCAAqC;AACrC,oCAAoC;AACpC,yBAAyB;AAEzB,2CAAwC;AAGxC,MAAM,SAAS,GAAG,EAAE,CAAC,YAAY,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC;AAEjE,MAAqB,WAAW;IAC9B,YAAoB,YAAY,eAAS;QAArB,cAAS,GAAT,SAAS,CAAY;IAAG,CAAC;IAEtC,KAAK,CAAC,OAAO,CAAC,IAAY;QAC/B,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;QAC3E,8CAA8C;QAC9C,IAAI,SAAS,EAAE;YACb,MAAM,EAAE,IAAI,EAAE,GAAG,SAAS,CAAC;YAC3B,OAAO,IAAI,CAAC;SACb;IACH,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,KAAa;QACjC,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;QACpF,2CAA2C;QAE3C,IAAI,CAAC,WAAW;YAAE,OAAO;QACzB,MAAM,iBAAiB,GAAG,MAAM,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;QAEvF,iDAAiD;QAEjD,IAAI,CAAC,iBAAiB;YAAE,OAAO;QAE/B,IAAI,WAAW,EAAE;YACf,MAAM,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC;YAClD,MAAM,MAAM,GAAG,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;YAE7C,MAAM,OAAO,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC;YACtC,MAAM,SAAS,GAAoB,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC;YAC5E,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;YAEtD,OAAO;gBACL,IAAI,EAAE,MAAM;gBACZ,KAAK;aACN,CAAC;SACH;IACH,CAAC;CACF;AArCD,8BAqCC","sourcesContent":["import * as bcryptjs from 'bcryptjs';\nimport * as jwt from 'jsonwebtoken';\nimport * as fs from 'fs';\nimport ILogin from '../../interfaces/ILogin';\nimport UserModel from '../models/users';\nimport IUser from '../../interfaces/IUser';\n\nconst jwtSecret = fs.readFileSync('jwt.evaluation.key', 'utf-8');\n\nexport default class UserService {\n  constructor(private userModel = UserModel) {}\n\n  public async getUser(user: string): Promise<string | void> {\n    const userValid = await this.userModel.findOne({ where: { email: user } });\n    // console.log('userGET service:', userValid);\n    if (userValid) {\n      const { role } = userValid;\n      return role;\n    }\n  }\n\n  public async getLogin(login: ILogin): Promise<IUser | void > {\n    const resultModel = await this.userModel.findOne({ where: { email: login.email } });\n    // console.log('resultModel', resultModel);\n\n    if (!resultModel) return;\n    const validUserPassword = await bcryptjs.compare(login.password, resultModel.password);\n\n    // console.log('validUser: ', validUserPassword);\n\n    if (!validUserPassword) return;\n\n    if (resultModel) {\n      const { id, username, role, email } = resultModel;\n      const result = { id, username, role, email };\n\n      const payload = { data: login.email };\n      const jwtConfig: jwt.SignOptions = { expiresIn: '60d', algorithm: 'HS256' };\n      const token = jwt.sign(payload, jwtSecret, jwtConfig);\n\n      return {\n        user: result,\n        token,\n      };\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d41a359b5a2d1808cc5ebba9978912fbced39a5b"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/users.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/users.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":7,"column":0},"end":{"line":36,"column":3}},"4":{"start":{"line":37,"column":0},"end":{"line":37,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/users.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/users.ts"],"names":[],"mappings":";;AAAA,yCAAmD;AACnD,wBAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAUvB;AAED,IAAI,CAAC,IAAI,CAAC;IACR,EAAE,EAAE;QACF,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,IAAI;QACnB,UAAU,EAAE,IAAI;QAChB,IAAI,EAAE,mBAAO;KACd;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,WAAW,EAAE,IAAI;IACjB,UAAU,EAAE,KAAK;IACjB,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,MAAM;IACjB,SAAS,EAAE,OAAO;CACnB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC","sourcesContent":["import { Model, INTEGER, STRING } from 'sequelize';\nimport db from '.';\n\nclass User extends Model {\n  public id!: number; // exclamação pra dizer q o atributo é obrigatório\n\n  public username!: string;\n\n  public role!: string;\n\n  public email!: string;\n\n  public password!: string;\n}\n\nUser.init({\n  id: {\n    allowNull: false,\n    autoIncrement: true,\n    primaryKey: true,\n    type: INTEGER,\n  },\n  username: {\n    type: STRING,\n    allowNull: false,\n  },\n  role: {\n    type: STRING,\n    allowNull: false,\n  },\n  email: {\n    type: STRING,\n    allowNull: false,\n  },\n  password: {\n    type: STRING,\n    allowNull: false,\n  },\n}, {\n  underscored: true,\n  timestamps: false,\n  sequelize: db,\n  modelName: 'User',\n  tableName: 'users',\n});\n\nexport default User;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0129bd5a3c951093f97115a6f3034d5b468e5b8c"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/index.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":5,"column":15},"end":{"line":5,"column":44}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/index.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/index.ts"],"names":[],"mappings":";;AAAA,yCAAsC;AACtC,gDAAgD;AAChD,MAAM,MAAM,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAE7C,kBAAe,IAAI,qBAAS,CAAC,MAAM,CAAC,CAAC","sourcesContent":["import { Sequelize } from 'sequelize';\n// import * as config from '../config/database';\nconst config = require('../config/database');\n\nexport default new Sequelize(config);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"00465044bfba34cbfa7f43058616b50bc02bb146"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/loginMiddleware.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/loginMiddleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":32},"end":{"line":4,"column":40}},"2":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"3":{"start":{"line":6,"column":8},"end":{"line":6,"column":78}},"4":{"start":{"line":8,"column":4},"end":{"line":10,"column":5}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":78}},"6":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":80}},"8":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":80}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":11}},"11":{"start":{"line":19,"column":0},"end":{"line":19,"column":34}}},"fnMap":{"0":{"name":"validationLogin","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":24}},"loc":{"start":{"line":3,"column":41},"end":{"line":18,"column":1}},"line":3}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"1":{"loc":{"start":{"line":8,"column":4},"end":{"line":10,"column":5}},"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":10,"column":5}},{"start":{"line":8,"column":4},"end":{"line":10,"column":5}}],"line":8},"2":{"loc":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},{"start":{"line":11,"column":4},"end":{"line":13,"column":5}}],"line":11},"3":{"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":84}},"type":"binary-expr","locations":[{"start":{"line":11,"column":8},"end":{"line":11,"column":28}},{"start":{"line":11,"column":32},"end":{"line":11,"column":55}},{"start":{"line":11,"column":59},"end":{"line":11,"column":84}}],"line":11},"4":{"loc":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},{"start":{"line":14,"column":4},"end":{"line":16,"column":5}}],"line":14},"5":{"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":60}},"type":"binary-expr","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":28}},{"start":{"line":14,"column":32},"end":{"line":14,"column":60}}],"line":14}},"s":{"0":1,"1":7,"2":7,"3":1,"4":6,"5":1,"6":5,"7":1,"8":4,"9":1,"10":3,"11":1},"f":{"0":7},"b":{"0":[1,6],"1":[1,5],"2":[1,4],"3":[5,4,4],"4":[1,3],"5":[4,3]},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/loginMiddleware.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/loginMiddleware.ts"],"names":[],"mappings":";;AAEA,SAAwB,eAAe,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;IACrF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAErC,IAAI,CAAC,KAAK,EAAE;QACV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;KACvE;IAED,IAAI,CAAC,QAAQ,EAAE;QACb,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;KACvE;IAED,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAChF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;KACzE;IAED,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;QACxD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;KACzE;IACD,IAAI,EAAE,CAAC;AACT,CAAC;AAnBD,kCAmBC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\n\nexport default function validationLogin(req: Request, res: Response, next: NextFunction) {\n  const { email, password } = req.body;\n\n  if (!email) {\n    return res.status(400).json({ message: 'All fields must be filled' });\n  }\n\n  if (!password) {\n    return res.status(400).json({ message: 'All fields must be filled' });\n  }\n\n  if (!email.includes('@') || !email.endsWith('.com') || typeof email !== 'string') {\n    return res.status(401).json({ message: 'Incorrect email or password' });\n  }\n\n  if (password.length <= 6 || typeof password !== 'string') {\n    return res.status(401).json({ message: 'Incorrect email or password' });\n  }\n  next();\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b58052df7d20b15d12a3617792442b01d8baf326"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/authUser.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/authUser.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":24}},"3":{"start":{"line":5,"column":18},"end":{"line":5,"column":64}},"4":{"start":{"line":6,"column":13},"end":{"line":20,"column":1}},"5":{"start":{"line":7,"column":18},"end":{"line":7,"column":43}},"6":{"start":{"line":9,"column":4},"end":{"line":10,"column":68}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":68}},"8":{"start":{"line":11,"column":4},"end":{"line":19,"column":5}},"9":{"start":{"line":12,"column":24},"end":{"line":12,"column":52}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":44}},"11":{"start":{"line":15,"column":8},"end":{"line":15,"column":15}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":77}},"13":{"start":{"line":21,"column":0},"end":{"line":21,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":13},"end":{"line":6,"column":14}},"loc":{"start":{"line":6,"column":39},"end":{"line":20,"column":1}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":4},"end":{"line":10,"column":68}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":10,"column":68}},{"start":{"line":9,"column":4},"end":{"line":10,"column":68}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":10,"6":10,"7":1,"8":9,"9":9,"10":8,"11":8,"12":1,"13":1},"f":{"0":10},"b":{"0":[1,9]},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/authUser.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/authUser.ts"],"names":[],"mappings":";;AAAA,oCAAoC;AAEpC,yBAAyB;AAEzB,MAAM,SAAS,GAAG,EAAE,CAAC,YAAY,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC;AAEjE,MAAM,IAAI,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAA4B,EAAE;IAC/F,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC;IACxC,qCAAqC;IACrC,IAAI,CAAC,KAAK;QAAE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;IAExE,IAAI;QACF,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;QAC7C,oCAAoC;QACpC,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC;QAEpC,IAAI,EAAE,CAAC;KACR;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC,CAAC;KACtE;AACH,CAAC,CAAC;AACF,kBAAe,IAAI,CAAC","sourcesContent":["import * as jwt from 'jsonwebtoken';\nimport { NextFunction, Request, Response } from 'express';\nimport * as fs from 'fs';\n\nconst jwtSecret = fs.readFileSync('jwt.evaluation.key', 'utf-8');\n\nconst auth = async (req: Request, res: Response, next: NextFunction): Promise<Response | void> => {\n  const token = req.headers.authorization;\n  // console.log('token auth:', token);\n  if (!token) return res.status(401).json({ message: 'Token not found' });\n\n  try {\n    const decoded = jwt.verify(token, jwtSecret);\n    // console.log('decoded:', decoded);\n    req.body = { ...req.body, decoded };\n\n    next();\n  } catch (error) {\n    return res.status(401).json({ message: 'expired or invalid token' });\n  }\n};\nexport default auth;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e6723b600efdd78bbab3c7e9c3e508e6c1c6837c"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerTeams.routes.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerTeams.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":76}},"3":{"start":{"line":5,"column":23},"end":{"line":5,"column":67}},"4":{"start":{"line":6,"column":15},"end":{"line":6,"column":38}},"5":{"start":{"line":7,"column":21},"end":{"line":7,"column":49}},"6":{"start":{"line":8,"column":24},"end":{"line":8,"column":67}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":78}},"8":{"start":{"line":9,"column":36},"end":{"line":9,"column":76}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":84}},"10":{"start":{"line":10,"column":39},"end":{"line":10,"column":82}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":16},"end":{"line":9,"column":17}},"loc":{"start":{"line":9,"column":36},"end":{"line":9,"column":76}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":19},"end":{"line":10,"column":20}},"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":82}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":3,"9":1,"10":3,"11":1},"f":{"0":3,"1":3},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerTeams.routes.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerTeams.routes.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,6EAAsE;AACtE,oEAA6D;AAE7D,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,YAAY,GAAG,IAAI,sBAAY,EAAE,CAAC;AACxC,MAAM,eAAe,GAAG,IAAI,yBAAe,CAAC,YAAY,CAAC,CAAC;AAE1D,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAC9E,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAEpF,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\nimport TeamsController from '../database/controllers/teamsController';\nimport TeamsService from '../database/services/teamsService';\n\nconst router = Router();\n\nconst teamsService = new TeamsService();\nconst teamsController = new TeamsController(teamsService);\n\nrouter.get('/', (req, res, next) => teamsController.getTeams(req, res, next));\nrouter.get('/:id', (req, res, next) => teamsController.getTeamById(req, res, next));\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1ff97ce9dd0cd85d34bc83c45f5ba7813b595b07"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/teamsController.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/teamsController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":41}},"2":{"start":{"line":8,"column":8},"end":{"line":17,"column":9}},"3":{"start":{"line":9,"column":26},"end":{"line":9,"column":60}},"4":{"start":{"line":10,"column":12},"end":{"line":12,"column":13}},"5":{"start":{"line":11,"column":16},"end":{"line":11,"column":76}},"6":{"start":{"line":13,"column":12},"end":{"line":13,"column":47}},"7":{"start":{"line":16,"column":12},"end":{"line":16,"column":24}},"8":{"start":{"line":20,"column":8},"end":{"line":31,"column":9}},"9":{"start":{"line":21,"column":27},"end":{"line":21,"column":37}},"10":{"start":{"line":23,"column":29},"end":{"line":23,"column":68}},"11":{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},"12":{"start":{"line":25,"column":16},"end":{"line":25,"column":75}},"13":{"start":{"line":27,"column":12},"end":{"line":27,"column":50}},"14":{"start":{"line":30,"column":12},"end":{"line":30,"column":24}},"15":{"start":{"line":34,"column":0},"end":{"line":34,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":30},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":35},"end":{"line":18,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":38},"end":{"line":32,"column":5}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":12},"end":{"line":12,"column":13}},"type":"if","locations":[{"start":{"line":10,"column":12},"end":{"line":12,"column":13}},{"start":{"line":10,"column":12},"end":{"line":12,"column":13}}],"line":10},"1":{"loc":{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},{"start":{"line":24,"column":12},"end":{"line":26,"column":13}}],"line":24}},"s":{"0":1,"1":1,"2":3,"3":3,"4":2,"5":1,"6":1,"7":1,"8":3,"9":3,"10":3,"11":2,"12":1,"13":1,"14":1,"15":1},"f":{"0":1,"1":3,"2":3},"b":{"0":[1,1],"1":[1,1]},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/teamsController.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/teamsController.ts"],"names":[],"mappings":";;AAGA,MAAqB,eAAe;IAClC,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAAG,CAAC;IAE3C,KAAK,CAAC,QAAQ,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACnE,IAAI;YACF,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;YAEjD,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;aAC7D;YAED,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACpC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QAEtE,IAAI;YACF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,yCAAyC;YACzC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAEzD,IAAI,CAAC,QAAQ,EAAE;gBACb,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,CAAC,CAAC;aAC5D;YAED,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACvC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;CACF;AAjCD,kCAiCC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport TeamsService from '../services/teamsService';\n\nexport default class TeamsController {\n  constructor(private teamsService: TeamsService) {}\n\n  public async getTeams(req: Request, res: Response, next: NextFunction): Promise<Response | void> {\n    try {\n      const teams = await this.teamsService.getTeams();\n\n      if (teams.length === 0) {\n        return res.status(404).json({ message: 'teams not found' });\n      }\n\n      return res.status(200).json(teams);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  public async getTeamById(req: Request, res: Response, next: NextFunction)\n    : Promise<Response | void> {\n    try {\n      const { id } = req.params;\n      // console.log('id params: ', typeof id);\n      const teamById = await this.teamsService.getTeamById(id);\n\n      if (!teamById) {\n        return res.status(404).json({ message: 'team not found' });\n      }\n\n      return res.status(200).json(teamById);\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fa82a8c978fb18ca8148028d470bd09ea8d982c5"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/teamsService.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/teamsService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":42}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":37}},"3":{"start":{"line":9,"column":22},"end":{"line":9,"column":53}},"4":{"start":{"line":11,"column":8},"end":{"line":12,"column":22}},"5":{"start":{"line":12,"column":12},"end":{"line":12,"column":22}},"6":{"start":{"line":13,"column":8},"end":{"line":13,"column":21}},"7":{"start":{"line":16,"column":21},"end":{"line":16,"column":69}},"8":{"start":{"line":18,"column":8},"end":{"line":19,"column":19}},"9":{"start":{"line":19,"column":12},"end":{"line":19,"column":19}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":20}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":46},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":21},"end":{"line":14,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":26},"end":{"line":21,"column":5}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":44}},"type":"default-arg","locations":[{"start":{"line":5,"column":29},"end":{"line":5,"column":44}}],"line":5},"1":{"loc":{"start":{"line":11,"column":8},"end":{"line":12,"column":22}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":12,"column":22}},{"start":{"line":11,"column":8},"end":{"line":12,"column":22}}],"line":11},"2":{"loc":{"start":{"line":18,"column":8},"end":{"line":19,"column":19}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":19,"column":19}},{"start":{"line":18,"column":8},"end":{"line":19,"column":19}}],"line":18}},"s":{"0":1,"1":1,"2":2,"3":9,"4":8,"5":0,"6":8,"7":3,"8":2,"9":1,"10":1,"11":1},"f":{"0":2,"1":9,"2":3},"b":{"0":[2],"1":[0,8],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/teamsService.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/teamsService.ts"],"names":[],"mappings":";;AAAA,2CAAwC;AAGxC,MAAqB,YAAY;IAC/B,YAAoB,aAAa,eAAS;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAG,CAAC;IAEvC,KAAK,CAAC,QAAQ;QACnB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAC9C,uCAAuC;QAEvC,IAAI,CAAC,KAAK;YAAE,OAAO,EAAE,CAAC;QACtB,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,EAAU;QACjC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC9D,sCAAsC;QAEtC,IAAI,CAAC,IAAI;YAAE,OAAO;QAClB,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAlBD,+BAkBC","sourcesContent":["import TeamModel from '../models/teams';\nimport ITeams from '../../interfaces/ITeams';\n\nexport default class TeamsService {\n  constructor(private teamsModel = TeamModel) {}\n\n  public async getTeams(): Promise<ITeams[] | []> {\n    const teams = await this.teamsModel.findAll();\n    // console.log('teams Service', teams);\n\n    if (!teams) return [];\n    return teams;\n  }\n\n  public async getTeamById(id: string): Promise<object | void> {\n    const team = await this.teamsModel.findOne({ where: { id } });\n    // console.log('teamService: ', team);\n\n    if (!team) return;\n    return team;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"337b633206dbced211ee2873309fd3d2141d92fa"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/teams.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/teams.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":7,"column":0},"end":{"line":24,"column":3}},"4":{"start":{"line":25,"column":0},"end":{"line":25,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/teams.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/teams.ts"],"names":[],"mappings":";;AAAA,yCAAmD;AACnD,wBAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAIvB;AAED,IAAI,CAAC,IAAI,CAAC;IACR,EAAE,EAAE;QACF,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE,IAAI;QAChB,aAAa,EAAE,IAAI;KACpB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,WAAW,EAAE,IAAI;IACjB,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,MAAM;IACjB,SAAS,EAAE,OAAO;IAClB,UAAU,EAAE,KAAK;CAClB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC","sourcesContent":["import { Model, INTEGER, STRING } from 'sequelize';\nimport db from '.';\n\nclass Team extends Model {\n  public id!: number; // exclamação pra dizer q o atributo é obrigatório\n\n  public teamName!: string;\n}\n\nTeam.init({\n  id: {\n    type: INTEGER,\n    allowNull: false,\n    primaryKey: true,\n    autoIncrement: true,\n  },\n  teamName: {\n    type: STRING,\n    allowNull: false,\n  },\n}, {\n  underscored: true,\n  sequelize: db,\n  modelName: 'Team',\n  tableName: 'teams',\n  timestamps: false,\n});\n\nexport default Team;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"16b3227fb1a7c93c99a5b978e5a1c5d67691f2d0"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerMatches.routes.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerMatches.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":80}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":71}},"4":{"start":{"line":6,"column":19},"end":{"line":6,"column":53}},"5":{"start":{"line":7,"column":15},"end":{"line":7,"column":38}},"6":{"start":{"line":8,"column":23},"end":{"line":8,"column":53}},"7":{"start":{"line":9,"column":26},"end":{"line":9,"column":73}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":128}},"9":{"start":{"line":10,"column":68},"end":{"line":10,"column":126}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":120}},"11":{"start":{"line":11,"column":61},"end":{"line":11,"column":118}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":85}},"13":{"start":{"line":12,"column":36},"end":{"line":12,"column":83}},"14":{"start":{"line":13,"column":0},"end":{"line":13,"column":104}},"15":{"start":{"line":13,"column":51},"end":{"line":13,"column":102}},"16":{"start":{"line":14,"column":0},"end":{"line":14,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":48},"end":{"line":10,"column":49}},"loc":{"start":{"line":10,"column":68},"end":{"line":10,"column":126}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":41},"end":{"line":11,"column":42}},"loc":{"start":{"line":11,"column":61},"end":{"line":11,"column":118}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":16},"end":{"line":12,"column":17}},"loc":{"start":{"line":12,"column":36},"end":{"line":12,"column":83}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":37},"end":{"line":13,"column":38}},"loc":{"start":{"line":13,"column":51},"end":{"line":13,"column":102}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":2,"10":1,"11":2,"12":1,"13":4,"14":1,"15":3,"16":1},"f":{"0":2,"1":2,"2":4,"3":3},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerMatches.routes.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerMatches.routes.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AAEjC,iFAA0E;AAC1E,wEAAiE;AACjE,sDAA+C;AAE/C,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,cAAc,GAAG,IAAI,wBAAc,EAAE,CAAC;AAC5C,MAAM,iBAAiB,GAAG,IAAI,2BAAiB,CAAC,cAAc,CAAC,CAAC;AAEhE,MAAM,CAAC,KAAK,CACV,aAAa,EACb,kBAAQ,EACR,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAC/E,CAAC;AAEF,MAAM,CAAC,KAAK,CACV,MAAM,EACN,kBAAQ,EACR,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAC9E,CAAC;AAEF,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,iBAAiB,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAErF,MAAM,CAAC,IAAI,CACT,GAAG,EACH,kBAAQ,EACR,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,GAAG,EAAE,GAAG,CAAC,CAClE,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\n\nimport MatchesController from '../database/controllers/matchesController';\nimport MatchesService from '../database/services/matchesService';\nimport authUser from '../middlewares/authUser';\n\nconst router = Router();\n\nconst matchesService = new MatchesService();\nconst matchesController = new MatchesController(matchesService);\n\nrouter.patch(\n  '/:id/finish',\n  authUser,\n  (req, res, next) => matchesController.updateMatchProgressFalse(req, res, next),\n);\n\nrouter.patch(\n  '/:id',\n  authUser,\n  (req, res, next) => matchesController.updateMatchProgressTrue(req, res, next),\n);\n\nrouter.get('/', (req, res, next) => matchesController.getAllMatches(req, res, next));\n\nrouter.post(\n  '/',\n  authUser,\n  (req, res) => matchesController.createMatchProgressTrue(req, res),\n);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8883048749b1de9f4ea6b3cb88d8c17308cbc85e"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/matchesController.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/matchesController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":45}},"2":{"start":{"line":8,"column":8},"end":{"line":21,"column":9}},"3":{"start":{"line":9,"column":35},"end":{"line":9,"column":44}},"4":{"start":{"line":11,"column":28},"end":{"line":11,"column":69}},"5":{"start":{"line":12,"column":12},"end":{"line":16,"column":13}},"6":{"start":{"line":13,"column":40},"end":{"line":13,"column":61}},"7":{"start":{"line":14,"column":33},"end":{"line":14,"column":90}},"8":{"start":{"line":14,"column":56},"end":{"line":14,"column":89}},"9":{"start":{"line":15,"column":16},"end":{"line":15,"column":54}},"10":{"start":{"line":17,"column":12},"end":{"line":17,"column":49}},"11":{"start":{"line":20,"column":12},"end":{"line":20,"column":24}},"12":{"start":{"line":24,"column":8},"end":{"line":38,"column":9}},"13":{"start":{"line":25,"column":85},"end":{"line":25,"column":93}},"14":{"start":{"line":26,"column":12},"end":{"line":30,"column":13}},"15":{"start":{"line":27,"column":16},"end":{"line":29,"column":19}},"16":{"start":{"line":31,"column":30},"end":{"line":31,"column":94}},"17":{"start":{"line":32,"column":33},"end":{"line":32,"column":93}},"18":{"start":{"line":33,"column":12},"end":{"line":33,"column":54}},"19":{"start":{"line":36,"column":12},"end":{"line":36,"column":87}},"20":{"start":{"line":41,"column":8},"end":{"line":48,"column":9}},"21":{"start":{"line":42,"column":27},"end":{"line":42,"column":37}},"22":{"start":{"line":43,"column":33},"end":{"line":43,"column":87}},"23":{"start":{"line":44,"column":12},"end":{"line":44,"column":54}},"24":{"start":{"line":47,"column":12},"end":{"line":47,"column":24}},"25":{"start":{"line":51,"column":8},"end":{"line":59,"column":9}},"26":{"start":{"line":52,"column":27},"end":{"line":52,"column":37}},"27":{"start":{"line":53,"column":53},"end":{"line":53,"column":61}},"28":{"start":{"line":54,"column":33},"end":{"line":54,"column":120}},"29":{"start":{"line":55,"column":12},"end":{"line":55,"column":54}},"30":{"start":{"line":58,"column":12},"end":{"line":58,"column":24}},"31":{"start":{"line":62,"column":0},"end":{"line":62,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":32},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":40},"end":{"line":22,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":48},"end":{"line":14,"column":49}},"loc":{"start":{"line":14,"column":56},"end":{"line":14,"column":89}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":44},"end":{"line":39,"column":5}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":51},"end":{"line":49,"column":5}},"line":40},"5":{"name":"(anonymous_5)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":50},"end":{"line":60,"column":5}},"line":50}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":12},"end":{"line":16,"column":13}},"type":"if","locations":[{"start":{"line":12,"column":12},"end":{"line":16,"column":13}},{"start":{"line":12,"column":12},"end":{"line":16,"column":13}}],"line":12},"1":{"loc":{"start":{"line":26,"column":12},"end":{"line":30,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":30,"column":13}},{"start":{"line":26,"column":12},"end":{"line":30,"column":13}}],"line":26}},"s":{"0":1,"1":1,"2":4,"3":4,"4":4,"5":3,"6":2,"7":2,"8":4,"9":2,"10":1,"11":1,"12":3,"13":3,"14":3,"15":1,"16":2,"17":2,"18":1,"19":1,"20":2,"21":2,"22":2,"23":1,"24":1,"25":2,"26":2,"27":2,"28":2,"29":1,"30":1,"31":1},"f":{"0":1,"1":4,"2":4,"3":3,"4":2,"5":2},"b":{"0":[2,1],"1":[1,2]},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/matchesController.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/matchesController.ts"],"names":[],"mappings":"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","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport MatchesService from '../services/matchesService';\n\nexport default class MatchesController {\n  constructor(private matchesService: MatchesService) {}\n\n  public async getAllMatches(req: Request, res: Response, next: NextFunction)\n    :Promise<Response | void> {\n    try {\n      const { inProgress } = req.query;\n      // console.log('progress Controller: ', inProgress);\n\n      const matches = await this.matchesService.getAllMatches();\n\n      if (inProgress) {\n        const progressBoolean = inProgress === 'true'; // vai retornar o booleano true, ou o booleano false caso a string nao seja 'true';\n        const progress = matches.filter((el) => el.inProgress === progressBoolean);\n        return res.status(200).json(progress);\n      }\n      return res.status(200).json(matches);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  public async createMatchProgressTrue(req: Request, res: Response)\n    :Promise<Response | void> {\n    try {\n      const { homeTeam, awayTeam, homeTeamGoals, awayTeamGoals, inProgress } = req.body;\n\n      if (homeTeam === awayTeam) {\n        return res.status(401).json({\n          message: 'It is not possible to create a match with two equal teams',\n        });\n      }\n\n      const matchData = { homeTeam, awayTeam, homeTeamGoals, awayTeamGoals, inProgress };\n\n      const matchCreated = await this.matchesService.createMatchProgressTrue(matchData);\n\n      return res.status(201).json(matchCreated);\n    } catch (error) {\n      return res.status(404).json({ message: 'There is no team with such id!' });\n      // cai no erro pois homeTeam e awayTeam são foreinKey da tabela Team, se a requisição nao achar o id na tabela, ele nao cria a partida e da o erro\n    }\n  }\n\n  public async updateMatchProgressFalse(req: Request, res: Response, next: NextFunction)\n    :Promise<Response | void> {\n    try {\n      const { id } = req.params;\n\n      const matchUpdated = await this.matchesService.updateMatchProgressFalse(id);\n\n      return res.status(200).json(matchUpdated);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  public async updateMatchProgressTrue(req: Request, res: Response, next: NextFunction)\n    :Promise<Response | void> {\n    try {\n      const { id } = req.params;\n\n      const { homeTeamGoals, awayTeamGoals } = req.body;\n\n      const matchUpdated = await this.matchesService.updateMatchProgressTrue(\n        id,\n        { homeTeamGoals, awayTeamGoals },\n      );\n\n      return res.status(200).json(matchUpdated);\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1a7369a0f255e1d0682b7cda220a254da4e7a387"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/matchesService.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/matchesService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":42}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":41}},"4":{"start":{"line":10,"column":24},"end":{"line":16,"column":10}},"5":{"start":{"line":17,"column":8},"end":{"line":17,"column":23}},"6":{"start":{"line":20,"column":28},"end":{"line":20,"column":65}},"7":{"start":{"line":21,"column":8},"end":{"line":21,"column":27}},"8":{"start":{"line":24,"column":8},"end":{"line":24,"column":81}},"9":{"start":{"line":25,"column":29},"end":{"line":25,"column":79}},"10":{"start":{"line":26,"column":8},"end":{"line":26,"column":28}},"11":{"start":{"line":29,"column":8},"end":{"line":29,"column":134}},"12":{"start":{"line":30,"column":29},"end":{"line":30,"column":79}},"13":{"start":{"line":31,"column":8},"end":{"line":31,"column":28}},"14":{"start":{"line":34,"column":0},"end":{"line":34,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":50},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":26},"end":{"line":18,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":41},"end":{"line":22,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":39},"end":{"line":27,"column":5}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":45},"end":{"line":32,"column":5}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":16},"end":{"line":6,"column":48}},"type":"default-arg","locations":[{"start":{"line":6,"column":31},"end":{"line":6,"column":48}}],"line":6}},"s":{"0":1,"1":1,"2":1,"3":2,"4":33,"5":23,"6":2,"7":1,"8":2,"9":2,"10":1,"11":2,"12":2,"13":1,"14":1},"f":{"0":2,"1":33,"2":2,"3":2,"4":2},"b":{"0":[2]},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/matchesService.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/matchesService.ts"],"names":[],"mappings":";;AAAA,+CAA6C;AAC7C,2CAAwC;AAKxC,MAAqB,cAAc;IACjC,YAAoB,eAAe,iBAAY;QAA3B,iBAAY,GAAZ,YAAY,CAAe;IAAG,CAAC;IAE5C,KAAK,CAAC,aAAa;QACxB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;YAC9C,OAAO,EAAE;gBACP,qRAAqR;gBACrR,EAAE,KAAK,EAAE,eAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;gBAC9D,EAAE,KAAK,EAAE,eAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;aAC/D;SACF,CAAC,CAAC;QAEH,OAAO,OAA2B,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,uBAAuB,CAAC,KAAqB;QACxD,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAE1D,OAAO,WAAW,CAAC;IACrB,CAAC;IAEM,KAAK,CAAC,wBAAwB,CAAC,EAAU;QAC9C,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAEzE,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACxE,OAAO,YAAY,CAAC;IACtB,CAAC;IAEM,KAAK,CAAC,uBAAuB,CAAC,EAAU,EAAE,KAA+B;QAE9E,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAC5B,EAAE,aAAa,EAAE,KAAK,CAAC,aAAa,EAAE,aAAa,EAAE,KAAK,CAAC,aAAa,EAAE,EAC1E,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAClB,CAAC;QAEF,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACxE,OAAO,YAAY,CAAC;IACtB,CAAC;CACF;AAtCD,iCAsCC","sourcesContent":["import MatchesModel from '../models/matches';\nimport TeamModel from '../models/teams';\nimport IMatchesCustom from '../../interfaces/IMatchesCustom';\nimport IMatchesCreate from '../../interfaces/IMatchesCreate';\nimport IUpdateMatchProgressTrue from '../../interfaces/IUpdateMatchProgressTrue';\n\nexport default class MatchesService {\n  constructor(private matchesModel = MatchesModel) {}\n\n  public async getAllMatches(): Promise<IMatchesCustom[]> {\n    const matches = await this.matchesModel.findAll({\n      include: [\n        /*  dentro da tabela matches, vou procurar o model de Team, onde ele é chamado de 'teamHome', buscar o conteudo da coluna 'teamName', e incluir esse resultado no resuldado trago pelo findAll (https://tableless.com.br/sequelize-a-solu%C3%A7%C3%A3o-para-seus-relacionamentos/) */\n        { model: TeamModel, as: 'teamHome', attributes: ['teamName'] },\n        { model: TeamModel, as: 'teamAway', attributes: ['teamName'] },\n      ],\n    });\n\n    return matches as IMatchesCustom[];\n  }\n\n  public async createMatchProgressTrue(match: IMatchesCreate): Promise<object> {\n    const matchCreate = await this.matchesModel.create(match);\n\n    return matchCreate;\n  }\n\n  public async updateMatchProgressFalse(id: string): Promise<MatchesModel | null> {\n    await this.matchesModel.update({ inProgress: false }, { where: { id } });\n\n    const matchUpdated = await this.matchesModel.findOne({ where: { id } });\n    return matchUpdated;\n  }\n\n  public async updateMatchProgressTrue(id: string, match: IUpdateMatchProgressTrue)\n    :Promise<IUpdateMatchProgressTrue | null> {\n    await this.matchesModel.update(\n      { homeTeamGoals: match.homeTeamGoals, awayTeamGoals: match.awayTeamGoals },\n      { where: { id } },\n    );\n\n    const matchUpdated = await this.matchesModel.findOne({ where: { id } });\n    return matchUpdated;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d57a30af6a66aa3421dbb991813e76b45e5d11f5"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/matches.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/matches.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":16},"end":{"line":5,"column":34}},"4":{"start":{"line":8,"column":0},"end":{"line":41,"column":3}},"5":{"start":{"line":42,"column":0},"end":{"line":42,"column":78}},"6":{"start":{"line":43,"column":0},"end":{"line":43,"column":78}},"7":{"start":{"line":44,"column":0},"end":{"line":44,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/matches.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/models/matches.ts"],"names":[],"mappings":";;AAAA,yCAAoD;AACpD,wBAAmB;AACnB,mCAA2B;AAE3B,MAAM,MAAO,SAAQ,iBAAK;CAYzB;AAED,MAAM,CAAC,IAAI,CAAC;IACV,EAAE,EAAE;QACF,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,IAAI;QACnB,UAAU,EAAE,IAAI;QAChB,IAAI,EAAE,mBAAO;KACd;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;KACjB;IACD,aAAa,EAAE;QACb,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;KACjB;IACD,aAAa,EAAE;QACb,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;KACjB;IACD,UAAU,EAAE;QACV,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,WAAW,EAAE,IAAI;IACjB,UAAU,EAAE,KAAK;IACjB,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,QAAQ;IACnB,SAAS,EAAE,SAAS;CACrB,CAAC,CAAC;AAEH,MAAM,CAAC,SAAS,CAAC,eAAI,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AACnE,MAAM,CAAC,SAAS,CAAC,eAAI,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AACnE,kBAAe,MAAM,CAAC","sourcesContent":["import { Model, INTEGER, BOOLEAN } from 'sequelize';\nimport db from '.';\nimport Team from './teams';\n\nclass Matche extends Model {\n  public id!: number; // exclamação pra dizer q o atributo é obrigatório\n\n  public homeTeam!: number;\n\n  public homeTeamGoals!: number;\n\n  public awayTeam!: number;\n\n  public awayTeamGoals!: number;\n\n  public inProgress!:boolean;\n}\n\nMatche.init({\n  id: {\n    allowNull: false,\n    autoIncrement: true,\n    primaryKey: true,\n    type: INTEGER,\n  },\n  homeTeam: {\n    type: INTEGER,\n    allowNull: false,\n  },\n  homeTeamGoals: {\n    type: INTEGER,\n    allowNull: false,\n  },\n  awayTeam: {\n    type: INTEGER,\n    allowNull: false,\n  },\n  awayTeamGoals: {\n    type: INTEGER,\n    allowNull: false,\n  },\n  inProgress: {\n    type: BOOLEAN,\n    allowNull: false,\n  },\n}, {\n  underscored: true,\n  timestamps: false,\n  sequelize: db,\n  modelName: 'Matche',\n  tableName: 'matches',\n});\n\nMatche.belongsTo(Team, { foreignKey: 'homeTeam', as: 'teamHome' });\nMatche.belongsTo(Team, { foreignKey: 'awayTeam', as: 'teamAway' });\nexport default Matche;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"af9209f6a1e1b79471103813895bd2b9556773ca"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerLeaderboard.routes.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerLeaderboard.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":32},"end":{"line":4,"column":88}},"3":{"start":{"line":5,"column":29},"end":{"line":5,"column":79}},"4":{"start":{"line":6,"column":15},"end":{"line":6,"column":38}},"5":{"start":{"line":7,"column":27},"end":{"line":7,"column":61}},"6":{"start":{"line":8,"column":30},"end":{"line":8,"column":85}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":98}},"8":{"start":{"line":9,"column":40},"end":{"line":9,"column":96}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":98}},"10":{"start":{"line":10,"column":40},"end":{"line":10,"column":96}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":90}},"12":{"start":{"line":11,"column":36},"end":{"line":11,"column":88}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":20},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":40},"end":{"line":9,"column":96}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":20},"end":{"line":10,"column":21}},"loc":{"start":{"line":10,"column":40},"end":{"line":10,"column":96}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":16},"end":{"line":11,"column":17}},"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":88}},"line":11}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":1,"10":2,"11":1,"12":2,"13":1},"f":{"0":2,"1":2,"2":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerLeaderboard.routes.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/routes/routerLeaderboard.routes.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AAEjC,yFAAkF;AAClF,gFAAyE;AAEzE,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,kBAAkB,GAAG,IAAI,4BAAkB,EAAE,CAAC;AACpD,MAAM,qBAAqB,GAAG,IAAI,+BAAqB,CAAC,kBAAkB,CAAC,CAAC;AAE5E,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAClG,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAClG,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,qBAAqB,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAC1F,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\n\nimport LeaderboardController from '../database/controllers/leaderboardController';\nimport LeaderboardService from '../database/services/leaderboardService';\n\nconst router = Router();\n\nconst leaderboardService = new LeaderboardService();\nconst leaderboardController = new LeaderboardController(leaderboardService);\n\nrouter.get('/home', (req, res, next) => leaderboardController.getHomeLeaderboard(req, res, next));\nrouter.get('/away', (req, res, next) => leaderboardController.getAwayLeaderboard(req, res, next));\nrouter.get('/', (req, res, next) => leaderboardController.getLeaderboard(req, res, next));\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bba5b4a240ac9f95f7021d8b69665a85d6d308e6"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/leaderboardController.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/leaderboardController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":58}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":53}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":56}},"4":{"start":{"line":10,"column":24},"end":{"line":10,"column":57}},"5":{"start":{"line":11,"column":29},"end":{"line":22,"column":11}},"6":{"start":{"line":11,"column":52},"end":{"line":22,"column":9}},"7":{"start":{"line":23,"column":8},"end":{"line":23,"column":28}},"8":{"start":{"line":26,"column":8},"end":{"line":33,"column":9}},"9":{"start":{"line":27,"column":30},"end":{"line":27,"column":59}},"10":{"start":{"line":28,"column":36},"end":{"line":28,"column":95}},"11":{"start":{"line":29,"column":12},"end":{"line":29,"column":57}},"12":{"start":{"line":32,"column":12},"end":{"line":32,"column":24}},"13":{"start":{"line":36,"column":8},"end":{"line":43,"column":9}},"14":{"start":{"line":37,"column":30},"end":{"line":37,"column":59}},"15":{"start":{"line":38,"column":36},"end":{"line":38,"column":95}},"16":{"start":{"line":39,"column":12},"end":{"line":39,"column":57}},"17":{"start":{"line":42,"column":12},"end":{"line":42,"column":24}},"18":{"start":{"line":46,"column":8},"end":{"line":53,"column":9}},"19":{"start":{"line":47,"column":26},"end":{"line":47,"column":55}},"20":{"start":{"line":48,"column":32},"end":{"line":48,"column":83}},"21":{"start":{"line":49,"column":12},"end":{"line":49,"column":53}},"22":{"start":{"line":52,"column":12},"end":{"line":52,"column":24}},"23":{"start":{"line":56,"column":0},"end":{"line":56,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":36},"end":{"line":8,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":29},"end":{"line":24,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":41},"end":{"line":11,"column":42}},"loc":{"start":{"line":11,"column":52},"end":{"line":22,"column":9}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":46},"end":{"line":34,"column":5}},"line":25},"4":{"name":"(anonymous_4)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":46},"end":{"line":44,"column":5}},"line":35},"5":{"name":"(anonymous_5)","decl":{"start":{"line":45,"column":4},"end":{"line":45,"column":5}},"loc":{"start":{"line":45,"column":42},"end":{"line":54,"column":5}},"line":45}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":6,"5":6,"6":96,"7":6,"8":2,"9":2,"10":2,"11":1,"12":1,"13":2,"14":2,"15":2,"16":1,"17":1,"18":2,"19":2,"20":2,"21":1,"22":1,"23":1},"f":{"0":1,"1":6,"2":96,"3":2,"4":2,"5":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/leaderboardController.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/controllers/leaderboardController.ts"],"names":[],"mappings":";;AAEA,2DAAoD;AAEpD,MAAqB,qBAAqB;IACxC,YAAoB,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QAEnD,gBAAW,GAAG,IAAI,sBAAY,EAAE,CAAC;IAFqB,CAAC;IAIvD,KAAK,CAAC,gBAAgB;QAC3B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAElD,MAAM,YAAY,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YAC1C,IAAI,EAAE,IAAI,CAAC,QAAQ;YACnB,WAAW,EAAE,CAAC;YACd,UAAU,EAAE,CAAC;YACb,cAAc,EAAE,CAAC;YACjB,UAAU,EAAE,CAAC;YACb,WAAW,EAAE,CAAC;YACd,UAAU,EAAE,CAAC;YACb,QAAQ,EAAE,CAAC;YACX,YAAY,EAAE,CAAC;YACf,UAAU,EAAE,CAAC;SACd,CAAC,CAAC,CAAC;QACJ,OAAO,YAAY,CAAC;IACtB,CAAC;IAEM,KAAK,CAAC,kBAAkB,CAAC,IAAa,EAAE,GAAa,EAAE,IAAkB;QAE9E,IAAI;YACF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAChD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;YAEpF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SAC9C;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAEM,KAAK,CAAC,kBAAkB,CAAC,IAAa,EAAE,GAAa,EAAE,IAAkB;QAE9E,IAAI;YACF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAChD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;YAEpF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SAC9C;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAEM,KAAK,CAAC,cAAc,CAAC,IAAa,EAAE,GAAa,EAAE,IAAkB;QAE1E,IAAI;YACF,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC5C,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;YAExE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC1C;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;CACF;AA1DD,wCA0DC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport LeaderboardService from '../services/leaderboardService';\nimport TeamsService from '../services/teamsService';\n\nexport default class LeaderboardController {\n  constructor(private leaderboardService: LeaderboardService) {}\n\n  public teamService = new TeamsService();\n\n  public async blankLeaderboard() {\n    const allTeam = await this.teamService.getTeams();\n\n    const boardInitial = allTeam.map((team) => ({\n      name: team.teamName,\n      totalPoints: 0,\n      totalGames: 0,\n      totalVictories: 0,\n      totalDraws: 0,\n      totalLosses: 0,\n      goalsFavor: 0,\n      goalsOwn: 0,\n      goalsBalance: 0,\n      efficiency: 0,\n    }));\n    return boardInitial;\n  }\n\n  public async getHomeLeaderboard(_req: Request, res: Response, next: NextFunction)\n    :Promise<Response | void> {\n    try {\n      const boardHome = await this.blankLeaderboard();\n      const leaderboardHome = await this.leaderboardService.getHomeLeaderboard(boardHome);\n\n      return res.status(200).json(leaderboardHome);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  public async getAwayLeaderboard(_req: Request, res: Response, next: NextFunction)\n    :Promise<Response | void> {\n    try {\n      const boardAway = await this.blankLeaderboard();\n      const leaderboardAway = await this.leaderboardService.getAwayLeaderboard(boardAway);\n\n      return res.status(200).json(leaderboardAway);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  public async getLeaderboard(_req: Request, res: Response, next: NextFunction)\n    :Promise<Response | void> {\n    try {\n      const board = await this.blankLeaderboard();\n      const leaderboard = await this.leaderboardService.getLeaderboard(board);\n\n      return res.status(200).json(leaderboard);\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"58fa9bd42f25ac311e7a25690d4a1c78cb6f4b38"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/leaderboardService.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/leaderboardService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":52}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":61}},"3":{"start":{"line":9,"column":27},"end":{"line":9,"column":68}},"4":{"start":{"line":10,"column":32},"end":{"line":10,"column":82}},"5":{"start":{"line":10,"column":58},"end":{"line":10,"column":81}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":31}},"7":{"start":{"line":14,"column":8},"end":{"line":25,"column":11}},"8":{"start":{"line":15,"column":12},"end":{"line":24,"column":13}},"9":{"start":{"line":16,"column":36},"end":{"line":16,"column":105}},"10":{"start":{"line":16,"column":65},"end":{"line":16,"column":104}},"11":{"start":{"line":17,"column":16},"end":{"line":18,"column":32}},"12":{"start":{"line":18,"column":20},"end":{"line":18,"column":32}},"13":{"start":{"line":19,"column":16},"end":{"line":19,"column":62}},"14":{"start":{"line":20,"column":16},"end":{"line":20,"column":60}},"15":{"start":{"line":21,"column":16},"end":{"line":21,"column":45}},"16":{"start":{"line":22,"column":16},"end":{"line":22,"column":44}},"17":{"start":{"line":23,"column":16},"end":{"line":23,"column":48}},"18":{"start":{"line":28,"column":8},"end":{"line":38,"column":11}},"19":{"start":{"line":29,"column":12},"end":{"line":37,"column":13}},"20":{"start":{"line":30,"column":36},"end":{"line":30,"column":103}},"21":{"start":{"line":30,"column":64},"end":{"line":30,"column":102}},"22":{"start":{"line":31,"column":16},"end":{"line":32,"column":32}},"23":{"start":{"line":32,"column":20},"end":{"line":32,"column":32}},"24":{"start":{"line":33,"column":16},"end":{"line":33,"column":62}},"25":{"start":{"line":34,"column":16},"end":{"line":34,"column":60}},"26":{"start":{"line":35,"column":16},"end":{"line":35,"column":44}},"27":{"start":{"line":36,"column":16},"end":{"line":36,"column":45}},"28":{"start":{"line":41,"column":8},"end":{"line":52,"column":11}},"29":{"start":{"line":42,"column":12},"end":{"line":51,"column":13}},"30":{"start":{"line":43,"column":36},"end":{"line":43,"column":101}},"31":{"start":{"line":43,"column":63},"end":{"line":43,"column":100}},"32":{"start":{"line":44,"column":16},"end":{"line":45,"column":32}},"33":{"start":{"line":45,"column":20},"end":{"line":45,"column":32}},"34":{"start":{"line":46,"column":16},"end":{"line":46,"column":62}},"35":{"start":{"line":47,"column":16},"end":{"line":47,"column":60}},"36":{"start":{"line":48,"column":16},"end":{"line":48,"column":45}},"37":{"start":{"line":49,"column":16},"end":{"line":49,"column":44}},"38":{"start":{"line":50,"column":16},"end":{"line":50,"column":44}},"39":{"start":{"line":55,"column":8},"end":{"line":60,"column":11}},"40":{"start":{"line":56,"column":29},"end":{"line":56,"column":94}},"41":{"start":{"line":56,"column":56},"end":{"line":56,"column":93}},"42":{"start":{"line":57,"column":12},"end":{"line":58,"column":28}},"43":{"start":{"line":58,"column":16},"end":{"line":58,"column":28}},"44":{"start":{"line":59,"column":12},"end":{"line":59,"column":78}},"45":{"start":{"line":63,"column":8},"end":{"line":69,"column":11}},"46":{"start":{"line":64,"column":29},"end":{"line":64,"column":94}},"47":{"start":{"line":64,"column":56},"end":{"line":64,"column":93}},"48":{"start":{"line":65,"column":12},"end":{"line":66,"column":28}},"49":{"start":{"line":66,"column":16},"end":{"line":66,"column":28}},"50":{"start":{"line":67,"column":34},"end":{"line":67,"column":90}},"51":{"start":{"line":68,"column":12},"end":{"line":68,"column":67}},"52":{"start":{"line":72,"column":8},"end":{"line":83,"column":11}},"53":{"start":{"line":73,"column":12},"end":{"line":82,"column":13}},"54":{"start":{"line":74,"column":36},"end":{"line":74,"column":105}},"55":{"start":{"line":74,"column":65},"end":{"line":74,"column":104}},"56":{"start":{"line":75,"column":16},"end":{"line":76,"column":32}},"57":{"start":{"line":76,"column":20},"end":{"line":76,"column":32}},"58":{"start":{"line":77,"column":16},"end":{"line":77,"column":62}},"59":{"start":{"line":78,"column":16},"end":{"line":78,"column":60}},"60":{"start":{"line":79,"column":16},"end":{"line":79,"column":45}},"61":{"start":{"line":80,"column":16},"end":{"line":80,"column":44}},"62":{"start":{"line":81,"column":16},"end":{"line":81,"column":48}},"63":{"start":{"line":86,"column":8},"end":{"line":96,"column":11}},"64":{"start":{"line":87,"column":12},"end":{"line":95,"column":13}},"65":{"start":{"line":88,"column":36},"end":{"line":88,"column":103}},"66":{"start":{"line":88,"column":64},"end":{"line":88,"column":102}},"67":{"start":{"line":89,"column":16},"end":{"line":90,"column":32}},"68":{"start":{"line":90,"column":20},"end":{"line":90,"column":32}},"69":{"start":{"line":91,"column":16},"end":{"line":91,"column":62}},"70":{"start":{"line":92,"column":16},"end":{"line":92,"column":60}},"71":{"start":{"line":93,"column":16},"end":{"line":93,"column":44}},"72":{"start":{"line":94,"column":16},"end":{"line":94,"column":45}},"73":{"start":{"line":99,"column":8},"end":{"line":110,"column":11}},"74":{"start":{"line":100,"column":12},"end":{"line":109,"column":13}},"75":{"start":{"line":101,"column":36},"end":{"line":101,"column":101}},"76":{"start":{"line":101,"column":63},"end":{"line":101,"column":100}},"77":{"start":{"line":102,"column":16},"end":{"line":103,"column":32}},"78":{"start":{"line":103,"column":20},"end":{"line":103,"column":32}},"79":{"start":{"line":104,"column":16},"end":{"line":104,"column":62}},"80":{"start":{"line":105,"column":16},"end":{"line":105,"column":60}},"81":{"start":{"line":106,"column":16},"end":{"line":106,"column":45}},"82":{"start":{"line":107,"column":16},"end":{"line":107,"column":44}},"83":{"start":{"line":108,"column":16},"end":{"line":108,"column":44}},"84":{"start":{"line":113,"column":8},"end":{"line":118,"column":11}},"85":{"start":{"line":114,"column":29},"end":{"line":114,"column":94}},"86":{"start":{"line":114,"column":56},"end":{"line":114,"column":93}},"87":{"start":{"line":115,"column":12},"end":{"line":116,"column":28}},"88":{"start":{"line":116,"column":16},"end":{"line":116,"column":28}},"89":{"start":{"line":117,"column":12},"end":{"line":117,"column":78}},"90":{"start":{"line":121,"column":8},"end":{"line":127,"column":11}},"91":{"start":{"line":122,"column":29},"end":{"line":122,"column":94}},"92":{"start":{"line":122,"column":56},"end":{"line":122,"column":93}},"93":{"start":{"line":123,"column":12},"end":{"line":124,"column":28}},"94":{"start":{"line":124,"column":16},"end":{"line":124,"column":28}},"95":{"start":{"line":125,"column":34},"end":{"line":125,"column":90}},"96":{"start":{"line":126,"column":12},"end":{"line":126,"column":67}},"97":{"start":{"line":131,"column":8},"end":{"line":154,"column":11}},"98":{"start":{"line":131,"column":37},"end":{"line":131,"column":66}},"99":{"start":{"line":132,"column":12},"end":{"line":134,"column":13}},"100":{"start":{"line":133,"column":16},"end":{"line":133,"column":59}},"101":{"start":{"line":135,"column":12},"end":{"line":135,"column":21}},"102":{"start":{"line":137,"column":12},"end":{"line":139,"column":13}},"103":{"start":{"line":138,"column":16},"end":{"line":138,"column":55}},"104":{"start":{"line":140,"column":12},"end":{"line":140,"column":21}},"105":{"start":{"line":142,"column":12},"end":{"line":145,"column":13}},"106":{"start":{"line":144,"column":16},"end":{"line":144,"column":51}},"107":{"start":{"line":146,"column":12},"end":{"line":146,"column":21}},"108":{"start":{"line":149,"column":12},"end":{"line":152,"column":13}},"109":{"start":{"line":151,"column":16},"end":{"line":151,"column":47}},"110":{"start":{"line":153,"column":12},"end":{"line":153,"column":21}},"111":{"start":{"line":155,"column":8},"end":{"line":155,"column":27}},"112":{"start":{"line":158,"column":8},"end":{"line":162,"column":11}},"113":{"start":{"line":163,"column":8},"end":{"line":163,"column":53}},"114":{"start":{"line":164,"column":8},"end":{"line":164,"column":51}},"115":{"start":{"line":165,"column":8},"end":{"line":165,"column":60}},"116":{"start":{"line":166,"column":8},"end":{"line":166,"column":31}},"117":{"start":{"line":169,"column":8},"end":{"line":173,"column":11}},"118":{"start":{"line":174,"column":8},"end":{"line":174,"column":53}},"119":{"start":{"line":175,"column":8},"end":{"line":175,"column":51}},"120":{"start":{"line":176,"column":8},"end":{"line":176,"column":60}},"121":{"start":{"line":177,"column":8},"end":{"line":177,"column":31}},"122":{"start":{"line":180,"column":8},"end":{"line":180,"column":51}},"123":{"start":{"line":181,"column":8},"end":{"line":181,"column":51}},"124":{"start":{"line":182,"column":8},"end":{"line":182,"column":27}},"125":{"start":{"line":185,"column":0},"end":{"line":185,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":28},"end":{"line":12,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":50},"end":{"line":10,"column":51}},"loc":{"start":{"line":10,"column":58},"end":{"line":10,"column":81}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":38},"end":{"line":26,"column":5}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":47},"end":{"line":14,"column":48}},"loc":{"start":{"line":14,"column":58},"end":{"line":25,"column":9}},"line":14},"5":{"name":"(anonymous_5)","decl":{"start":{"line":16,"column":53},"end":{"line":16,"column":54}},"loc":{"start":{"line":16,"column":65},"end":{"line":16,"column":104}},"line":16},"6":{"name":"(anonymous_6)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":37},"end":{"line":39,"column":5}},"line":27},"7":{"name":"(anonymous_7)","decl":{"start":{"line":28,"column":47},"end":{"line":28,"column":48}},"loc":{"start":{"line":28,"column":58},"end":{"line":38,"column":9}},"line":28},"8":{"name":"(anonymous_8)","decl":{"start":{"line":30,"column":53},"end":{"line":30,"column":54}},"loc":{"start":{"line":30,"column":64},"end":{"line":30,"column":102}},"line":30},"9":{"name":"(anonymous_9)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":36},"end":{"line":53,"column":5}},"line":40},"10":{"name":"(anonymous_10)","decl":{"start":{"line":41,"column":47},"end":{"line":41,"column":48}},"loc":{"start":{"line":41,"column":58},"end":{"line":52,"column":9}},"line":41},"11":{"name":"(anonymous_11)","decl":{"start":{"line":43,"column":53},"end":{"line":43,"column":54}},"loc":{"start":{"line":43,"column":63},"end":{"line":43,"column":100}},"line":43},"12":{"name":"(anonymous_12)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":40},"end":{"line":61,"column":5}},"line":54},"13":{"name":"(anonymous_13)","decl":{"start":{"line":55,"column":47},"end":{"line":55,"column":48}},"loc":{"start":{"line":55,"column":58},"end":{"line":60,"column":9}},"line":55},"14":{"name":"(anonymous_14)","decl":{"start":{"line":56,"column":46},"end":{"line":56,"column":47}},"loc":{"start":{"line":56,"column":56},"end":{"line":56,"column":93}},"line":56},"15":{"name":"(anonymous_15)","decl":{"start":{"line":62,"column":4},"end":{"line":62,"column":5}},"loc":{"start":{"line":62,"column":38},"end":{"line":70,"column":5}},"line":62},"16":{"name":"(anonymous_16)","decl":{"start":{"line":63,"column":47},"end":{"line":63,"column":48}},"loc":{"start":{"line":63,"column":58},"end":{"line":69,"column":9}},"line":63},"17":{"name":"(anonymous_17)","decl":{"start":{"line":64,"column":46},"end":{"line":64,"column":47}},"loc":{"start":{"line":64,"column":56},"end":{"line":64,"column":93}},"line":64},"18":{"name":"(anonymous_18)","decl":{"start":{"line":71,"column":4},"end":{"line":71,"column":5}},"loc":{"start":{"line":71,"column":38},"end":{"line":84,"column":5}},"line":71},"19":{"name":"(anonymous_19)","decl":{"start":{"line":72,"column":47},"end":{"line":72,"column":48}},"loc":{"start":{"line":72,"column":58},"end":{"line":83,"column":9}},"line":72},"20":{"name":"(anonymous_20)","decl":{"start":{"line":74,"column":53},"end":{"line":74,"column":54}},"loc":{"start":{"line":74,"column":65},"end":{"line":74,"column":104}},"line":74},"21":{"name":"(anonymous_21)","decl":{"start":{"line":85,"column":4},"end":{"line":85,"column":5}},"loc":{"start":{"line":85,"column":37},"end":{"line":97,"column":5}},"line":85},"22":{"name":"(anonymous_22)","decl":{"start":{"line":86,"column":47},"end":{"line":86,"column":48}},"loc":{"start":{"line":86,"column":58},"end":{"line":96,"column":9}},"line":86},"23":{"name":"(anonymous_23)","decl":{"start":{"line":88,"column":53},"end":{"line":88,"column":54}},"loc":{"start":{"line":88,"column":64},"end":{"line":88,"column":102}},"line":88},"24":{"name":"(anonymous_24)","decl":{"start":{"line":98,"column":4},"end":{"line":98,"column":5}},"loc":{"start":{"line":98,"column":36},"end":{"line":111,"column":5}},"line":98},"25":{"name":"(anonymous_25)","decl":{"start":{"line":99,"column":47},"end":{"line":99,"column":48}},"loc":{"start":{"line":99,"column":58},"end":{"line":110,"column":9}},"line":99},"26":{"name":"(anonymous_26)","decl":{"start":{"line":101,"column":53},"end":{"line":101,"column":54}},"loc":{"start":{"line":101,"column":63},"end":{"line":101,"column":100}},"line":101},"27":{"name":"(anonymous_27)","decl":{"start":{"line":112,"column":4},"end":{"line":112,"column":5}},"loc":{"start":{"line":112,"column":40},"end":{"line":119,"column":5}},"line":112},"28":{"name":"(anonymous_28)","decl":{"start":{"line":113,"column":47},"end":{"line":113,"column":48}},"loc":{"start":{"line":113,"column":58},"end":{"line":118,"column":9}},"line":113},"29":{"name":"(anonymous_29)","decl":{"start":{"line":114,"column":46},"end":{"line":114,"column":47}},"loc":{"start":{"line":114,"column":56},"end":{"line":114,"column":93}},"line":114},"30":{"name":"(anonymous_30)","decl":{"start":{"line":120,"column":4},"end":{"line":120,"column":5}},"loc":{"start":{"line":120,"column":38},"end":{"line":128,"column":5}},"line":120},"31":{"name":"(anonymous_31)","decl":{"start":{"line":121,"column":47},"end":{"line":121,"column":48}},"loc":{"start":{"line":121,"column":58},"end":{"line":127,"column":9}},"line":121},"32":{"name":"(anonymous_32)","decl":{"start":{"line":122,"column":46},"end":{"line":122,"column":47}},"loc":{"start":{"line":122,"column":56},"end":{"line":122,"column":93}},"line":122},"33":{"name":"(anonymous_33)","decl":{"start":{"line":129,"column":4},"end":{"line":129,"column":5}},"loc":{"start":{"line":129,"column":40},"end":{"line":156,"column":5}},"line":129},"34":{"name":"(anonymous_34)","decl":{"start":{"line":131,"column":27},"end":{"line":131,"column":28}},"loc":{"start":{"line":131,"column":37},"end":{"line":131,"column":66}},"line":131},"35":{"name":"(anonymous_35)","decl":{"start":{"line":131,"column":73},"end":{"line":131,"column":74}},"loc":{"start":{"line":131,"column":83},"end":{"line":136,"column":9}},"line":131},"36":{"name":"(anonymous_36)","decl":{"start":{"line":136,"column":16},"end":{"line":136,"column":17}},"loc":{"start":{"line":136,"column":26},"end":{"line":141,"column":9}},"line":136},"37":{"name":"(anonymous_37)","decl":{"start":{"line":141,"column":16},"end":{"line":141,"column":17}},"loc":{"start":{"line":141,"column":26},"end":{"line":147,"column":9}},"line":141},"38":{"name":"(anonymous_38)","decl":{"start":{"line":148,"column":18},"end":{"line":148,"column":19}},"loc":{"start":{"line":148,"column":28},"end":{"line":154,"column":9}},"line":148},"39":{"name":"(anonymous_39)","decl":{"start":{"line":157,"column":4},"end":{"line":157,"column":5}},"loc":{"start":{"line":157,"column":46},"end":{"line":167,"column":5}},"line":157},"40":{"name":"(anonymous_40)","decl":{"start":{"line":168,"column":4},"end":{"line":168,"column":5}},"loc":{"start":{"line":168,"column":46},"end":{"line":178,"column":5}},"line":168},"41":{"name":"(anonymous_41)","decl":{"start":{"line":179,"column":4},"end":{"line":179,"column":5}},"loc":{"start":{"line":179,"column":38},"end":{"line":183,"column":5}},"line":179}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":15,"column":12},"end":{"line":24,"column":13}},{"start":{"line":15,"column":12},"end":{"line":24,"column":13}}],"line":15},"1":{"loc":{"start":{"line":17,"column":16},"end":{"line":18,"column":32}},"type":"if","locations":[{"start":{"line":17,"column":16},"end":{"line":18,"column":32}},{"start":{"line":17,"column":16},"end":{"line":18,"column":32}}],"line":17},"2":{"loc":{"start":{"line":29,"column":12},"end":{"line":37,"column":13}},"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":37,"column":13}},{"start":{"line":29,"column":12},"end":{"line":37,"column":13}}],"line":29},"3":{"loc":{"start":{"line":31,"column":16},"end":{"line":32,"column":32}},"type":"if","locations":[{"start":{"line":31,"column":16},"end":{"line":32,"column":32}},{"start":{"line":31,"column":16},"end":{"line":32,"column":32}}],"line":31},"4":{"loc":{"start":{"line":42,"column":12},"end":{"line":51,"column":13}},"type":"if","locations":[{"start":{"line":42,"column":12},"end":{"line":51,"column":13}},{"start":{"line":42,"column":12},"end":{"line":51,"column":13}}],"line":42},"5":{"loc":{"start":{"line":44,"column":16},"end":{"line":45,"column":32}},"type":"if","locations":[{"start":{"line":44,"column":16},"end":{"line":45,"column":32}},{"start":{"line":44,"column":16},"end":{"line":45,"column":32}}],"line":44},"6":{"loc":{"start":{"line":57,"column":12},"end":{"line":58,"column":28}},"type":"if","locations":[{"start":{"line":57,"column":12},"end":{"line":58,"column":28}},{"start":{"line":57,"column":12},"end":{"line":58,"column":28}}],"line":57},"7":{"loc":{"start":{"line":65,"column":12},"end":{"line":66,"column":28}},"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":66,"column":28}},{"start":{"line":65,"column":12},"end":{"line":66,"column":28}}],"line":65},"8":{"loc":{"start":{"line":73,"column":12},"end":{"line":82,"column":13}},"type":"if","locations":[{"start":{"line":73,"column":12},"end":{"line":82,"column":13}},{"start":{"line":73,"column":12},"end":{"line":82,"column":13}}],"line":73},"9":{"loc":{"start":{"line":75,"column":16},"end":{"line":76,"column":32}},"type":"if","locations":[{"start":{"line":75,"column":16},"end":{"line":76,"column":32}},{"start":{"line":75,"column":16},"end":{"line":76,"column":32}}],"line":75},"10":{"loc":{"start":{"line":87,"column":12},"end":{"line":95,"column":13}},"type":"if","locations":[{"start":{"line":87,"column":12},"end":{"line":95,"column":13}},{"start":{"line":87,"column":12},"end":{"line":95,"column":13}}],"line":87},"11":{"loc":{"start":{"line":89,"column":16},"end":{"line":90,"column":32}},"type":"if","locations":[{"start":{"line":89,"column":16},"end":{"line":90,"column":32}},{"start":{"line":89,"column":16},"end":{"line":90,"column":32}}],"line":89},"12":{"loc":{"start":{"line":100,"column":12},"end":{"line":109,"column":13}},"type":"if","locations":[{"start":{"line":100,"column":12},"end":{"line":109,"column":13}},{"start":{"line":100,"column":12},"end":{"line":109,"column":13}}],"line":100},"13":{"loc":{"start":{"line":102,"column":16},"end":{"line":103,"column":32}},"type":"if","locations":[{"start":{"line":102,"column":16},"end":{"line":103,"column":32}},{"start":{"line":102,"column":16},"end":{"line":103,"column":32}}],"line":102},"14":{"loc":{"start":{"line":115,"column":12},"end":{"line":116,"column":28}},"type":"if","locations":[{"start":{"line":115,"column":12},"end":{"line":116,"column":28}},{"start":{"line":115,"column":12},"end":{"line":116,"column":28}}],"line":115},"15":{"loc":{"start":{"line":123,"column":12},"end":{"line":124,"column":28}},"type":"if","locations":[{"start":{"line":123,"column":12},"end":{"line":124,"column":28}},{"start":{"line":123,"column":12},"end":{"line":124,"column":28}}],"line":123},"16":{"loc":{"start":{"line":132,"column":12},"end":{"line":134,"column":13}},"type":"if","locations":[{"start":{"line":132,"column":12},"end":{"line":134,"column":13}},{"start":{"line":132,"column":12},"end":{"line":134,"column":13}}],"line":132},"17":{"loc":{"start":{"line":137,"column":12},"end":{"line":139,"column":13}},"type":"if","locations":[{"start":{"line":137,"column":12},"end":{"line":139,"column":13}},{"start":{"line":137,"column":12},"end":{"line":139,"column":13}}],"line":137},"18":{"loc":{"start":{"line":137,"column":16},"end":{"line":137,"column":92}},"type":"binary-expr","locations":[{"start":{"line":137,"column":17},"end":{"line":137,"column":48}},{"start":{"line":137,"column":54},"end":{"line":137,"column":91}}],"line":137},"19":{"loc":{"start":{"line":142,"column":12},"end":{"line":145,"column":13}},"type":"if","locations":[{"start":{"line":142,"column":12},"end":{"line":145,"column":13}},{"start":{"line":142,"column":12},"end":{"line":145,"column":13}}],"line":142},"20":{"loc":{"start":{"line":142,"column":16},"end":{"line":143,"column":54}},"type":"binary-expr","locations":[{"start":{"line":142,"column":17},"end":{"line":142,"column":48}},{"start":{"line":142,"column":54},"end":{"line":142,"column":91}},{"start":{"line":143,"column":20},"end":{"line":143,"column":53}}],"line":142},"21":{"loc":{"start":{"line":149,"column":12},"end":{"line":152,"column":13}},"type":"if","locations":[{"start":{"line":149,"column":12},"end":{"line":152,"column":13}},{"start":{"line":149,"column":12},"end":{"line":152,"column":13}}],"line":149},"22":{"loc":{"start":{"line":149,"column":16},"end":{"line":150,"column":89}},"type":"binary-expr","locations":[{"start":{"line":149,"column":17},"end":{"line":149,"column":48}},{"start":{"line":149,"column":54},"end":{"line":149,"column":91}},{"start":{"line":150,"column":20},"end":{"line":150,"column":53}},{"start":{"line":150,"column":59},"end":{"line":150,"column":88}}],"line":149}},"s":{"0":1,"1":1,"2":1,"3":29,"4":20,"5":800,"6":20,"7":4,"8":80,"9":30,"10":300,"11":30,"12":0,"13":30,"14":30,"15":30,"16":30,"17":30,"18":4,"19":80,"20":30,"21":206,"22":30,"23":0,"24":30,"25":30,"26":30,"27":30,"28":4,"29":80,"30":20,"31":170,"32":20,"33":0,"34":20,"35":20,"36":20,"37":20,"38":20,"39":2,"40":80,"41":676,"42":80,"43":0,"44":80,"45":2,"46":80,"47":676,"48":80,"49":0,"50":80,"51":80,"52":3,"53":80,"54":30,"55":251,"56":30,"57":0,"58":30,"59":30,"60":30,"61":30,"62":30,"63":3,"64":80,"65":30,"66":248,"67":30,"68":0,"69":30,"70":30,"71":30,"72":30,"73":3,"74":80,"75":20,"76":175,"77":20,"78":0,"79":20,"80":20,"81":20,"82":20,"83":20,"84":2,"85":80,"86":674,"87":80,"88":0,"89":80,"90":2,"91":80,"92":674,"93":80,"94":0,"95":80,"96":80,"97":4,"98":175,"99":60,"100":32,"101":28,"102":146,"103":46,"104":100,"105":142,"106":14,"107":128,"108":60,"109":0,"110":60,"111":4,"112":4,"113":2,"114":2,"115":2,"116":2,"117":3,"118":2,"119":2,"120":2,"121":2,"122":2,"123":1,"124":1,"125":1},"f":{"0":1,"1":29,"2":800,"3":4,"4":80,"5":300,"6":4,"7":80,"8":206,"9":4,"10":80,"11":170,"12":2,"13":80,"14":676,"15":2,"16":80,"17":676,"18":3,"19":80,"20":251,"21":3,"22":80,"23":248,"24":3,"25":80,"26":175,"27":2,"28":80,"29":674,"30":2,"31":80,"32":674,"33":4,"34":175,"35":60,"36":146,"37":142,"38":60,"39":4,"40":3,"41":2},"b":{"0":[30,50],"1":[0,30],"2":[30,50],"3":[0,30],"4":[20,60],"5":[0,20],"6":[0,80],"7":[0,80],"8":[30,50],"9":[0,30],"10":[30,50],"11":[0,30],"12":[20,60],"13":[0,20],"14":[0,80],"15":[0,80],"16":[32,28],"17":[46,100],"18":[146,46],"19":[14,128],"20":[142,44,44],"21":[0,60],"22":[60,32,32,9]},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/leaderboardService.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/database/services/leaderboardService.ts"],"names":[],"mappings":"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","sourcesContent":["import MatchesService from './matchesService';\n\nimport ILeaderboard from '../../interfaces/ILeaderboard';\n\nexport default class LeaderboardService {\n  public matchesService = new MatchesService();\n\n  public async finishedMatches() {\n    const allMatches = await this.matchesService.getAllMatches();\n    const finishedMatches = allMatches.filter((el) => el.inProgress === false);\n    return finishedMatches;\n  }\n\n  public async teamHomeWinner(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      if (match.homeTeamGoals > match.awayTeamGoals) {\n        const gameResults = leaderboard.find((winner) => match.teamHome.teamName === winner.name);\n        if (!gameResults) return null;\n        gameResults.goalsFavor += match.homeTeamGoals;\n        gameResults.goalsOwn += match.awayTeamGoals;\n        gameResults.totalPoints += 3;\n        gameResults.totalGames += 1;\n        gameResults.totalVictories += 1;\n      }\n    });\n  }\n\n  public async teamHomeLoser(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      if (match.homeTeamGoals < match.awayTeamGoals) {\n        const gameResults = leaderboard.find((loser) => match.teamHome.teamName === loser.name);\n        if (!gameResults) return null;\n        gameResults.goalsFavor += match.homeTeamGoals;\n        gameResults.goalsOwn += match.awayTeamGoals;\n        gameResults.totalGames += 1;\n        gameResults.totalLosses += 1;\n      }\n    });\n  }\n\n  public async teamHomeDraw(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      if (match.homeTeamGoals === match.awayTeamGoals) {\n        const gameResults = leaderboard.find((draw) => match.teamHome.teamName === draw.name);\n        if (!gameResults) return null;\n        gameResults.goalsFavor += match.homeTeamGoals;\n        gameResults.goalsOwn += match.awayTeamGoals;\n        gameResults.totalPoints += 1;\n        gameResults.totalGames += 1;\n        gameResults.totalDraws += 1;\n      }\n    });\n  }\n\n  public async goalsBalanceHome(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      const teamData = leaderboard.find((team) => match.teamHome.teamName === team.name);\n      if (!teamData) return null;\n      teamData.goalsBalance = (teamData.goalsFavor - teamData.goalsOwn);\n    });\n  }\n\n  public async efficiencyHome(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      const teamData = leaderboard.find((team) => match.teamHome.teamName === team.name);\n      if (!teamData) return null;\n      const percentageUse = (teamData.totalPoints / (teamData.totalGames * 3)) * 100;\n      teamData.efficiency = Number(percentageUse.toFixed(2));\n    });\n  }\n\n  public async teamAwayWinner(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      if (match.homeTeamGoals < match.awayTeamGoals) {\n        const gameResults = leaderboard.find((winner) => match.teamAway.teamName === winner.name);\n        if (!gameResults) return null;\n        gameResults.goalsFavor += match.awayTeamGoals;\n        gameResults.goalsOwn += match.homeTeamGoals;\n        gameResults.totalPoints += 3;\n        gameResults.totalGames += 1;\n        gameResults.totalVictories += 1;\n      }\n    });\n  }\n\n  public async teamAwayLoser(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      if (match.homeTeamGoals > match.awayTeamGoals) {\n        const gameResults = leaderboard.find((loser) => match.teamAway.teamName === loser.name);\n        if (!gameResults) return null;\n        gameResults.goalsFavor += match.awayTeamGoals;\n        gameResults.goalsOwn += match.homeTeamGoals;\n        gameResults.totalGames += 1;\n        gameResults.totalLosses += 1;\n      }\n    });\n  }\n\n  public async teamAwayDraw(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      if (match.homeTeamGoals === match.awayTeamGoals) {\n        const gameResults = leaderboard.find((draw) => match.teamAway.teamName === draw.name);\n        if (!gameResults) return null;\n        gameResults.goalsFavor += match.awayTeamGoals;\n        gameResults.goalsOwn += match.homeTeamGoals;\n        gameResults.totalPoints += 1;\n        gameResults.totalGames += 1;\n        gameResults.totalDraws += 1;\n      }\n    });\n  }\n\n  public async goalsBalanceAway(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      const teamData = leaderboard.find((team) => match.teamAway.teamName === team.name);\n      if (!teamData) return null;\n      teamData.goalsBalance = (teamData.goalsFavor - teamData.goalsOwn);\n    });\n  }\n\n  public async efficiencyAway(leaderboard: ILeaderboard[]) {\n    (await this.finishedMatches()).forEach((match) => {\n      const teamData = leaderboard.find((team) => match.teamAway.teamName === team.name);\n      if (!teamData) return null;\n      const percentageUse = (teamData.totalPoints / (teamData.totalGames * 3)) * 100;\n      teamData.efficiency = Number(percentageUse.toFixed(2));\n    });\n  }\n\n  public static sortLeaderboard(leaderboard: ILeaderboard[]) {\n    // static para lidar com a falta do this\n    (leaderboard).sort((a, b) => b.totalPoints - a.totalPoints).sort((a, b) => {\n      if (a.totalPoints === b.totalPoints) { return b.totalVictories - a.totalVictories; } return 0;\n    }).sort((a, b) => {\n      if ((a.totalPoints === b.totalPoints) && (a.totalVictories === b.totalVictories)) {\n        return b.goalsBalance - a.goalsBalance;\n      } return 0;\n    }).sort((a, b) => {\n      if ((a.totalPoints === b.totalPoints) && (a.totalVictories === b.totalVictories)\n        && (a.goalsBalance === b.goalsBalance)) { return b.goalsFavor - a.goalsFavor; } return 0;\n    })\n      .sort((a, b) => {\n        if ((a.totalPoints === b.totalPoints) && (a.totalVictories === b.totalVictories)\n        && (a.goalsBalance === b.goalsBalance) && (a.goalsFavor === b.goalsFavor)) {\n          return b.goalsOwn - a.goalsOwn;\n        } return 0;\n      });\n    return leaderboard;\n  }\n\n  public async getHomeLeaderboard(leaderboardHome: ILeaderboard[]) {\n    await Promise.all([\n      this.teamHomeWinner(leaderboardHome),\n      this.teamHomeLoser(leaderboardHome),\n      this.teamHomeDraw(leaderboardHome),\n    ]);\n    await this.goalsBalanceHome(leaderboardHome);\n    await this.efficiencyHome(leaderboardHome);\n    LeaderboardService.sortLeaderboard(leaderboardHome);\n    return leaderboardHome;\n  }\n\n  public async getAwayLeaderboard(leaderboardAway: ILeaderboard[]) {\n    await Promise.all([\n      this.teamAwayWinner(leaderboardAway),\n      this.teamAwayLoser(leaderboardAway),\n      this.teamAwayDraw(leaderboardAway),\n    ]);\n    await this.goalsBalanceAway(leaderboardAway);\n    await this.efficiencyAway(leaderboardAway);\n    LeaderboardService.sortLeaderboard(leaderboardAway);\n    return leaderboardAway;\n  }\n\n  public async getLeaderboard(leaderboard: ILeaderboard[]) {\n    await this.getHomeLeaderboard(leaderboard);\n    await this.getAwayLeaderboard(leaderboard);\n    return leaderboard;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"73a49f4b63be59fdbd29d930cac7d4be7171bbd4"},"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/error.ts":{"path":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/error.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":14},"end":{"line":3,"column":96}},"2":{"start":{"line":3,"column":40},"end":{"line":3,"column":96}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":14},"end":{"line":3,"column":15}},"loc":{"start":{"line":3,"column":40},"end":{"line":3,"column":96}},"line":3}},"branchMap":{},"s":{"0":1,"1":1,"2":9,"3":1},"f":{"0":9},"b":{},"inputSourceMap":{"version":3,"file":"/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/error.ts","sources":["/home/adadezer/Documentos/trybe/projetos/TFC-futebol/sd-015-a-trybe-futebol-clube/app/backend/src/middlewares/error.ts"],"names":[],"mappings":";;AAEA,MAAM,KAAK,GAAG,CAAC,GAAU,EAAE,GAAY,EAAE,GAAa,EAAE,KAAmB,EAChE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,uBAAuB,EAAE,CAAC,CAAC;AAEvE,kBAAe,KAAK,CAAC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\n\nconst error = (err: Error, req: Request, res: Response, _next: NextFunction)\n: Response => res.status(500).json({ error: 'Internal Server Error' });\n\nexport default error;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1c0fcf80d96f379bd840f2e59039c204c1defdfc"}}